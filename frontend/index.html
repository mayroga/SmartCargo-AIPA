<!DOCTYPE html>
<html>
<head>
    <title>SmartCargo-AIPA | MIA Counter</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #1a1a1a; color: #fff; padding: 20px; }
        .card { background: #2d2d2d; padding: 20px; border-radius: 12px; border-top: 5px solid #d32f2f; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        input, select { background: #3d3d3d; border: 1px solid #555; color: #fff; padding: 10px; border-radius: 5px; width: 100%; }
        .sem { height: 70px; display: flex; justify-content: center; gap: 30px; margin: 20px 0; background: #000; border-radius: 35px; align-items: center; }
        .light { width: 45px; height: 45px; border-radius: 50%; opacity: 0.1; }
        .on-red { background: #ff4d4d; opacity: 1; box-shadow: 0 0 20px #ff4d4d; }
        .on-yellow { background: #ffcc00; opacity: 1; box-shadow: 0 0 20px #ffcc00; }
        .on-green { background: #00ff66; opacity: 1; box-shadow: 0 0 20px #00ff66; }
        .btn { padding: 15px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        .btn-val { background: #d32f2f; color: #fff; }
        .btn-del { background: #444; color: #bbb; }
        #log { margin-top: 20px; padding: 15px; border-left: 4px solid #d32f2f; background: #222; }
    </style>
</head>
<body onclick="resetTimer()">
    <div class="card">
        <h2 style="text-align:center; color:#d32f2f;">SMARTCARGO-AIPA | ASESOR√çA MIA</h2>
        <div class="grid">
            <div><label>AWB</label><input type="text" id="awb"></div>
            <div><label>Avi√≥n</label><select id="air"><option value="PAX">Pasajeros</option><option value="CGO">Carguero</option></select></div>
            <div><label>Peso (lb)</label><input type="number" id="w"></div>
            <div><label>Alto (in)</label><input type="number" id="h"></div>
            <div><label>Clase DG (si aplica)</label><input type="text" id="dg" placeholder="Ej: 8, 3, 5.1"></div>
            <div><label>SoC Litio %</label><input type="number" id="soc"></div>
        </div>

        <div class="sem">
            <div id="L-RED" class="light"></div>
            <div id="L-YEL" class="light"></div>
            <div id="L-GRN" class="light"></div>
        </div>

        <button class="btn btn-val" onclick="validar()">SENTENCIA T√âCNICA</button>
        <button class="btn btn-del" onclick="borrar()">BORRAR DATOS</button>
        <p id="warn" style="color:red; text-align:center; display:none;">Inactividad: Borrando en 4s...</p>
    </div>
    <div id="log">Resultado: Esperando entrada...</div>

    <script>
        let t;
        function resetTimer() {
            clearTimeout(t);
            document.getElementById('warn').style.display='none';
            t = setTimeout(() => {
                document.getElementById('warn').style.display='block';
                setTimeout(() => { if(document.getElementById('warn').style.display=='block') borrar(); }, 4000);
            }, 55000);
        }

        function validar() {
            const h = document.getElementById('h').value;
            const dg = document.getElementById('dg').value;
            const soc = document.getElementById('soc').value;
            const air = document.getElementById('air').value;
            const log = document.getElementById('log');
            
            document.querySelectorAll('.light').forEach(l => l.className='light');
            let res = "green";
            let msg = "üü¢ CARGA LISTA. Cumple normativa Avianca MIA.";

            if (air === "PAX" && h > 63) { res="red"; msg="üî¥ RECHAZO: Altura excedida para Belly."; }
            else if (dg === "8" && (soc > 30)) { res="red"; msg="üî¥ RECHAZO: Litio incompatible o carga excesiva."; }
            else if (soc > 30) { res="red"; msg="üî¥ RECHAZO: SoC Litio > 30% (Prohibido)."; }

            document.getElementById('L-'+res.toUpperCase().substring(0,3)).className = 'light on-'+res;
            log.innerHTML = `<strong>Sentencia:</strong> ${msg}`;
        }

        function borrar() { location.reload(); }
        resetTimer();
    </script>
</body>
</html>

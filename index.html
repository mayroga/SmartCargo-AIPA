<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartCargo | Tactical Advisor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f9; margin: 0; padding: 20px; }
        .card { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-top: 6px solid #01579b; }
        h2 { color: #01579b; margin-top: 0; font-size: 20px; text-transform: uppercase; }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: 10px; transition: 0.3s; }
        .btn-pay { background: #01579b; color: white; }
        .btn-solve { background: #2e7d32; color: white; }
        .btn-clear { background: #b0bec5; color: #333; }
        #mainApp { display: none; margin-top: 25px; border-top: 2px solid #eee; padding-top: 20px; }
        .report-box { background: #fffde7; padding: 20px; border-radius: 8px; margin-top: 20px; border: 2px solid #01579b; font-size: 14px; }
        #previewContainer { display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap; }
        .preview-img { width: 70px; height: 70px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd; }
        input, select, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        #timerBox { display: none; color: #d32f2f; font-weight: bold; text-align: center; margin-top: 10px; }
    </style>
</head>
<body>

<div class="card">
    <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <span style="font-weight:bold; color:#01579b;">SMARTCARGO</span>
        <div>
            <button onclick="setLang('es')" style="cursor:pointer; border:none; background:none;">ES</button> | 
            <button onclick="setLang('en')" style="cursor:pointer; border:none; background:none;">EN</button>
        </div>
    </div>

    <div id="accessSection">
        <h2 id="t_act">1. Activation</h2>
        <input type="text" id="awbField" placeholder="AWB / Job Number">
        <select id="priceSelect">
            <option value="50">Technical Audit - $50.00</option>
            <option value="150">Hazmat/Special Audit - $150.00</option>
        </select>
        <button id="activateBtn" class="btn btn-pay">Proceed to Payment</button>
    </div>

    <div id="mainApp">
        <h2 id="t_sol">2. Solution Center</h2>
        <form id="advForm">
            <textarea name="prompt" id="promptField" rows="4" placeholder="Describe the physical or documentary issue..."></textarea>
            <label style="font-size: 0.8em; font-weight: bold;">ATTACH EVIDENCE (MAX 3):</label>
            <input type="file" name="files" id="fileInput" multiple accept="image/*" onchange="previewImages()">
            <div id="previewContainer"></div>
            <button type="submit" class="btn btn-solve">Execute Audit & Solution</button>
            <button type="button" class="btn btn-clear" onclick="clearForm()">New Query (Reset)</button>
        </form>
        <div id="advResponse"></div>
        <div id="timerBox">ðŸ”’ Private Session: <span id="secs">300</span>s</div>
        <div id="actionBtns" style="display:none; gap:10px;">
            <button onclick="downloadPDF()" class="btn" style="background:#444; color:white;">Download PDF</button>
            <button onclick="shareWA()" class="btn" style="background:#25d366; color:white;">WhatsApp</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
